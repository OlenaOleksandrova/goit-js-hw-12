{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport const BASE_URL = 'https://pixabay.com/api/';\nexport const API_KEY = '46110623-cffeede45492ee1adb33fe3c4';\nexport const PER_PAGE = 6;\n\nexport async function fetchImages(query, currentPage = 1) {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n        page: currentPage,\n        per_page: PER_PAGE,\n\n    });\n\n    const url = `${BASE_URL}?${params}`;\n\n    try {\n        const data = await axios.get(url);\n        console.log('fetchImages data:', data.data);\n        return data.data;\n    } catch (error) {\n        console.error('Error fetching images:', error);\n    }\n\n}\n    \n\n","export function renderImages(images) {\n    return images.reduce((acc, item) => {\n        return (\n            acc +\n            `<article class=\"gallery-item\">\n                <a href=\"${item.largeImageURL}\" class=\"gallery-link\">\n                    <img src=\"${item.webformatURL}\" alt=\"${item.tags}\" class=\"gallery-image\" />\n                </a>\n                <ul class=\"info\">\n                    <li class=\"info-item\"><strong>Likes:</strong> ${item.likes}</li>\n                    <li class=\"info-item\"><strong>Views:</strong> ${item.views}</li>\n                    <li class=\"info-item\"><strong>Comments:</strong> ${item.comments}</li>\n                    <li class=\"info-item\"><strong>Downloads:</strong> ${item.downloads}</li>\n                </ul>\n            </article>`\n        );\n    }, '');\n}","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\nimport axios from 'axios';\n\nconst searchForm = document.querySelector('.search-form');\n// const loaderEl = document.querySelector('.loader'); \nconst imagesBoxEl = document.querySelector('.gallery');\nconst LoadMore = document.querySelector('.js-load-more')\nlet currentPage = 1;\n\n\n// подія форми\n\nsearchForm.addEventListener('submit', handleSubmit);\n// LoadMore.addEventListener('click', handleLoadMore);\n   \n\nasync function handleSubmit(event) {\n    event.preventDefault();\n\n     const form = event.currentTarget;\n    const query = form.elements.query.value.trim(); \n \n    if (!query) {\n        return;\n    }\n\n    try {\n       \n        const response = await fetchImages(query);\n        console.log('handleSubmit:', response);\n\n    \n        const imagesMarkup = renderImages(response.hits);\n        imagesBoxEl.innerHTML = imagesMarkup;\n\n          if (response.totalHits > currentPage * 6) {\n            LoadMore.classList.remove('is-hidden'); // Показуємо кнопку\n        } else {\n            LoadMore.classList.add('is-hidden'); // Ховаємо кнопку\n        }\n\n        // LoadMore.classList.remove('is-hidden'); \n        \n    } catch (error) {\n        console.error('Error:', error);\n\n    } finally {\n        form.reset();\n    }\n}\n\n"],"names":["BASE_URL","API_KEY","PER_PAGE","fetchImages","query","currentPage","params","url","data","axios","error","renderImages","images","acc","item","searchForm","imagesBoxEl","LoadMore","handleSubmit","event","form","response","imagesMarkup"],"mappings":"svBAEO,MAAMA,EAAW,2BACXC,EAAU,qCACVC,EAAW,EAEjB,eAAeC,EAAYC,EAAOC,EAAc,EAAG,CACtD,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKL,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,KAAMC,EACN,SAAUH,CAElB,CAAK,EAEKK,EAAM,GAAGP,CAAQ,IAAIM,CAAM,GAEjC,GAAI,CACA,MAAME,EAAO,MAAMC,EAAM,IAAIF,CAAG,EAChC,eAAQ,IAAI,oBAAqBC,EAAK,IAAI,EACnCA,EAAK,IACf,OAAQE,EAAO,CACZ,QAAQ,MAAM,yBAA0BA,CAAK,CAChD,CAEL,CC5BO,SAASC,EAAaC,EAAQ,CACjC,OAAOA,EAAO,OAAO,CAACC,EAAKC,IAEnBD,EACA;AAAA,2BACeC,EAAK,aAAa;AAAA,gCACbA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA,oEAGAA,EAAK,KAAK;AAAA,oEACVA,EAAK,KAAK;AAAA,uEACPA,EAAK,QAAQ;AAAA,wEACZA,EAAK,SAAS;AAAA;AAAA,wBAI/E,EAAE,CACT,CCbA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAElDC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAW,SAAS,cAAc,eAAe,EACvD,IAAIZ,EAAc,EAKlBU,EAAW,iBAAiB,SAAUG,CAAY,EAIlD,eAAeA,EAAaC,EAAO,CAC/BA,EAAM,eAAc,EAEnB,MAAMC,EAAOD,EAAM,cACdf,EAAQgB,EAAK,SAAS,MAAM,MAAM,OAExC,GAAKhB,EAIL,GAAI,CAEA,MAAMiB,EAAW,MAAMlB,EAAYC,CAAK,EACxC,QAAQ,IAAI,gBAAiBiB,CAAQ,EAGrC,MAAMC,EAAeX,EAAaU,EAAS,IAAI,EAC/CL,EAAY,UAAYM,EAElBD,EAAS,UAAYhB,EAAc,EACrCY,EAAS,UAAU,OAAO,WAAW,EAErCA,EAAS,UAAU,IAAI,WAAW,CAKzC,OAAQP,EAAO,CACZ,QAAQ,MAAM,SAAUA,CAAK,CAErC,QAAc,CACNU,EAAK,MAAK,CACb,CACL"}